# WSGIRquest对象缺失某个参数

在开发过程中，对于菜单的显示和路径导航通过request对象来实现的，在权限系统跑起来的过程中，用户请求穿过中间件的时候做了权限的校验，登陆的时候做了权限初始化，其中middware中间件的功能除了对用户的权限进行校验之外，还保存了用户的菜单信息在session中，如果移植到新项目中的时候发现报错：

WSGIRquest对象缺失参数：currentSelectedPermission或者breadcrumb这两个参数，那么就一定是在中间件中出现了错误，这个错误引发的问题来自于对用户权限初始化之后，用户第一次访问了一个不被系统认可的路由，数据库没有，系统也没有。这个时候，用户登陆成功之后进行的权限初始化的时候并没有发现这个权限，也就导致用户的权限信息和菜单信息不完整，**已经做了修改和优化，** 除此之外，数据库权限信息的menu_id 和 pid 的设置错误也会导致这个问题！

